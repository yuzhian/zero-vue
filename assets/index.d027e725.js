import{f as K,r as o,o as t,s as v,u as e,c as _,z as H,w as n,A as N,v as b,B as V,I as j,J as L,y as Q,K as D,N as U,O as X,g as r,x as S,Q as T,V as Y,W as Z,X as q,Y as G,Z as ee,_ as te,$ as ne,a0 as ae,a1 as oe}from"./vendor.24be9f30.js";import{h as J,r as M}from"./index.f567b9d8.js";const re=["href"],se=K({props:{route:Object,parentPath:String},setup(m){const l=m,{path:i,name:c,children:s,meta:a}=l.route,u=y(l.parentPath||"",i),d=(a==null?void 0:a.title)||c||i;function y(p,h){return g(h)||h.startsWith("/")?h:(p.endsWith("/")?p:p+"/")+h}function g(p){return/^(https?:|mailto:|tel:)/.test(p)}return(p,h)=>{var k,x,w,B,C,I,R,z,W,A;const E=o("Item",!0),O=o("a-sub-menu"),$=o("router-link"),F=o("a-menu-item");return t(),v(b,null,[e(J)((x=(k=l.route)==null?void 0:k.meta)==null?void 0:x.permission)&&!((B=(w=l.route)==null?void 0:w.meta)==null?void 0:B.hidden)&&e(s)?(t(),_(O,{key:e(u),title:e(d)},H({default:n(()=>[(t(!0),v(b,null,V(e(s),(f,P)=>(t(),_(E,{key:P,route:f,"parent-path":e(u)},null,8,["route","parent-path"]))),128))]),_:2},[((C=e(a))==null?void 0:C.icon)?{name:"icon",fn:n(()=>{var f;return[(t(),_(N((f=e(a))==null?void 0:f.icon)))]})}:void 0]),1032,["title"])):j("",!0),e(J)((R=(I=l.route)==null?void 0:I.meta)==null?void 0:R.permission)&&!((W=(z=l.route)==null?void 0:z.meta)==null?void 0:W.hidden)&&!e(s)?(t(),_(F,{key:e(u)},H({default:n(()=>[g(e(i))?(t(),v("a",{key:0,href:e(u),target:"_black"},L(e(d)),9,re)):(t(),_($,{key:1,to:e(u)},{default:n(()=>[Q(L(e(d)),1)]),_:1},8,["to"]))]),_:2},[((A=e(a))==null?void 0:A.icon)?{name:"icon",fn:n(()=>{var f;return[(t(),_(N((f=e(a))==null?void 0:f.icon)))]})}:void 0]),1024)):j("",!0)],64)}}}),le=K({setup(m){const l=D([]),i=D([]);function c(s=X()){const a=s.matched.slice(1).map(({path:u})=>u);l.value=a,i.value=a}return c(),U(s=>c(s)),(s,a)=>{const u=o("a-menu");return t(),_(u,{openKeys:i.value,selectedKeys:l.value,select:"none",border:"0"},{default:n(()=>[(t(!0),v(b,null,V(e(M),d=>(t(),_(se,{route:d,"parent-path":"/"},null,8,["route"]))),256))]),_:1},8,["openKeys","selectedKeys"])}}}),ce=["src"],ue=K({props:{banner:{type:String},avatar:{type:String},nickname:{type:String},bio:{type:String}},setup(m){return(l,i)=>{const c=o("a-avatar"),s=o("a-card-meta"),a=o("a-card");return t(),v("div",null,[r(a,{bordered:!1,w:"75",shadow:"xl"},{cover:n(()=>[S("img",{src:m.banner,alt:"banner",width:300,height:200},null,8,ce)]),actions:n(()=>[r(e(T),{key:"setting"}),r(e(Y),{key:"edit"}),r(e(Z),{key:"ellipsis"})]),default:n(()=>[r(s,{title:m.nickname,description:m.bio},{avatar:n(()=>[r(c,{src:m.avatar},null,8,["src"])]),_:1},8,["title","description"])]),_:1})])}}}),ie=S("div",{w:"32",h:"8",mt:"4",float:"left",cursor:"pointer",bg:"[#ffffff33]"},null,-1),me=K({setup(m){const l=q(),i=M.filter(({path:d,meta:y})=>d!=="/dashboard"&&(!y||!y.hidden)),c={banner:"https://source.unsplash.com/300x200",avatar:"https://source.unsplash.com/32x32",nickname:"\u5F20\u4E09",bio:"\u6CD5\u5916\u72C2\u5F92\u5F20\u4E09"};let s=D(!0);const a=()=>{s.value=!1,oe(()=>s.value=!0)},u=[{text:"\u9996\u9875",icon:te,handler:()=>l.push("/"),trigger:"click",cls:""},{text:"\u5237\u65B0",icon:ne,handler:()=>a(),trigger:"click",cls:""},{text:"\u8BBE\u7F6E",icon:T,handler:"",trigger:"",cls:""},{text:"\u6D88\u606F",icon:ae,handler:"",trigger:"",cls:""}];return(d,y)=>{const g=o("router-link"),p=o("a-avatar"),h=o("a-dropdown"),E=o("a-layout-header"),O=o("a-layout-sider"),$=o("router-view"),F=o("a-layout-content");return t(),v(b,null,[r(E,{w:"screen",z:"999",backdrop:"saturate-[180%] blur-xl filter",display:"flex",justify:"between",position:"fixed",select:"none"},{default:n(()=>[S("div",null,[r(g,{to:"/dashboard"},{default:n(()=>[ie]),_:1})]),S("div",null,[(t(),v(b,null,V(u,({icon:k,cls:x,trigger:w,handler:B},C)=>r(N(k),{key:C,m:"2",leading:"0",text:"xl gray-300",class:G(["animated active:animate-tada",x]),[ee(w)]:B},null,16,["class"])),64)),r(h,{trigger:["hover"],overlayStyle:{position:"absolute"}},{overlay:n(()=>[r(ue,{banner:c.banner,avatar:c.avatar,nickname:c.nickname,bio:c.bio},null,8,["banner","avatar","nickname","bio"])]),default:n(()=>[r(p,{src:c.avatar,cursor:"pointer",class:"animated hover:animate-rotateIn"},null,8,["src"])]),_:1})])]),_:1}),r(O,{position:"absolute",overflow:"x-hidden",left:"0",bottom:"0",h:"[calc(100vh-64px)]",bg:"gray-100",scrollbar:"thin hover:thumb-gray-300"},{default:n(()=>[r(e(le),{mode:"inline",routes:e(i)},null,8,["routes"])]),_:1}),r(F,{position:"absolute",overflow:"auto",right:"0",bottom:"0",h:"[calc(100vh-64px)]",w:"[calc(100vw-200px)]",p:"4",bg:"gray-100"},{default:n(()=>[e(s)?(t(),_($,{key:d.$route.fullPath})):j("",!0)]),_:1})],64)}}});export{me as default};
